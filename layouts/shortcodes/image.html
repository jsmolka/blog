{{ $cap := .Get "caption" }}
{{ $src := add "/img/" (.Get "src") | safeURL }}
{{ $alt := .Get "alt" | default $cap }}
<figure class="w-full {{ with .Get "class" }}{{ . }}{{ end }}">
  {{ printf "![%s](%s)" $alt $src | $.Page.RenderString }}
  {{ with $cap }}
    <figcaption class="mt-2 text-sm text-center">{{- . | $.Page.RenderString -}}</figcaption>
  {{ end }}
</figure>
