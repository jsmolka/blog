@import 'hugo:vars';
@import 'utils';

@font-face {
  font-family: 'JetBrains Mono';
  font-weight: 100 800;
  font-display: block;
  font-style: normal;
  src: url($jetbrains-mono) format('woff2');
}

@font-face {
  font-family: 'JetBrains Mono';
  font-weight: 100 800;
  font-display: block;
  font-style: italic;
  src: url($jetbrains-mono-italic) format('woff2');
}

pre,
code {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: var(--text-sm);
  border-radius: var(--rounded);
  hyphens: none;
}

pre {
  padding: spacing(2) spacing(3);
  background-color: var(--shade-7);
  overflow-x: auto;
  white-space: pre;
}

:not(pre) > code {
  padding: spacing(0.5) spacing(1.5);
  background-color: var(--shade-6);
}

// Workaround for background culling
// https://stackoverflow.com/a/8513330
code[class*='language-'] {
  min-width: 100%;
  float: left;
}

.prism-cdata,
.prism-comment,
.prism-doctype,
.prism-prolog {
  color: var(--shade-3);
}

.prism-boolean,
.prism-builtin,
.prism-constant,
.prism-entity,
.prism-keyword,
.prism-operator,
.prism-property,
.prism-punctuation,
.prism-symbol,
.prism-tag,
.prism-url,
.prism-variable {
  color: #81a1c1;
}

.prism-deleted {
  color: #bf616a;
}

.prism-number {
  color: #b48ead;
}

.prism-attr-name,
.prism-char,
.prism-inserted,
.prism-important,
.prism-regex,
.prism-selector,
.prism-string {
  color: #a3be8c;
}

.prism-atrule,
.prism-attr-value,
.prism-function,
.prism-class-name {
  color: #88c0d0;
}

.prism-bold,
.prism-important {
  font-weight: 700;
}

:is(.prism-deleted, .prism-inserted):not(.prism-prefix) {
  display: block;
  margin: 0 spacing(-3);
  color: inherit;

  & > :first-child {
    margin-left: spacing(3);
  }

  & > :last-child {
    margin-right: spacing(3);
  }
}

.prism-deleted:not(.prism-prefix) {
  background-color: rgba(255, 0, 0, 0.1);
}

.prism-inserted:not(.prism-prefix) {
  background-color: rgba(0, 255, 128, 0.1);
}
